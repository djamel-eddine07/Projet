Cette section concerne uniquement les fantômes en général. Nous allons d'abord faire courir l'un des fantômes dans le labyrinthe avec Pacman. Ensuite, dans une section ultérieure, nous les mettrons tous les quatre là-haut. 
Les fantômes sont en fait la partie la plus compliquée de ce jeu, il est donc plus facile de se concentrer sur un seul fantôme à la fois. Une fois que nous avons terminé ce fantôme, nous pouvons facilement créer autant de fantômes que nous le souhaitons avec quelques modifications mineures pour chaque fantôme afin de leur donner une personnalité unique.
Comme Pacman, les fantômes se déplacent dans le labyrinthe d'un nœud à l'autre. Ainsi, une grande partie du code que nous avons écrit pour Pacman s'appliquera également aux fantômes avec quelques différences mineures.
Pour l'instant, nous n'avons qu'un seul fantôme qui se déplace dans le labyrinthe de manière pseudo-aléatoire. Le principal secret derrière cela est que nous devons simplement donner au fantôme un objectif à atteindre. Lorsque vous donnez aux fantômes ou à toute autre entité un objectif à atteindre, les choix qu'ils font pour déterminer la direction à suivre pour atteindre un nœud seront basés sur la direction qui les rapproche de l'objectif. L'objectif que nous voulons donner au fantôme n'est qu'un vecteur (x, y).  
Pendant le jeu, les fantômes sont toujours dans l'un des quatre modes ou états différents. La principale différence que nous devons comprendre entre les modes est l'objectif que le fantôme essaie d'atteindre. Ainsi, pendant le jeu, nous changeons périodiquement le mode du fantôme, ce qui modifie à son tour ses objectifs. J'expliquerai cela plus en détail dans un instant, mais pour l'instant, voici les quatre modes différents et leur description générale.

SCATTER : Ce mode indique aux fantômes de se disperser vers l'un des quatre coins du labyrinthe. Chaque fantôme a son propre coin et j'expliquerai ce qu'ils sont lorsque nous commencerons à parler des fantômes individuels. Pour l'instant, le coin que nous allons attribuer à notre fantôme actuel est le coin supérieur gauche.

CHASE : Ce mode, comme le mode scatter, est différent pour tous les fantômes. Je l'expliquerai plus en détail lorsque nous parlerons des fantômes individuels. Mais, en général, chaque fantôme a une façon de traquer Pacman. Le plus simple d'entre eux est de se contenter de la position de Pacman comme objectif. En faisant cela, le fantôme suivra Pacman partout où il va comme un chiot perdu. C'est ce que nous utiliserons pour notre fantôme de test car c'est le plus simple.

FRET : Nous n'avons pas encore à nous en soucier, mais lorsque Pacman mange une Power Pellet, les fantômes sont vulnérables et Pacman est capable de les manger. Pendant ce mode, les fantômes se déplacent dans le labyrinthe de manière aléatoire et plus lentement. La durée de ce mode dépend du niveau. Plus longue dans les premiers niveaux et plus courte dans les derniers.

SPAWN : C'est le mode dans lequel se trouvent les fantômes après que Pacman les ait mangés. Dans ce mode, leur objectif est d'atteindre leur lieu d'apparition que nous n'avons pas encore défini afin qu'ils puissent réapparaître. Ils se déplacent également beaucoup plus rapidement dans ce mode. Ils restent dans ce mode jusqu'à ce qu'ils atteignent leur lieu d'apparition.  

Pour l'instant, les deux principaux modes dont nous devons nous soucier sont Scatter et Chase . Nous aborderons les autres modes dans une prochaine section. Il y a quelques autres choses que nous devons comprendre à propos des modes Scatter et Chase. Lorsque le jeu démarre, tous les fantômes sont en mode Scatter. Le mode Scatter ne dure que 7 secondes, puis passe automatiquement en mode Chase. Le mode Chase dure ensuite 20 secondes avant de revenir en mode Scatter. Tout au long du jeu, ces modes continuent de basculer. C'est assez simple, mais nous devons également garder à l'esprit que les autres modes peuvent se produire à tout moment.
La maison du fantôme est généralement située au milieu du labyrinthe et est facilement reconnaissable à sa grande boîte rectangulaire. Pacman n'est jamais autorisé à entrer dans cette région. Les fantômes eux-mêmes n'y entrent pas à moins qu'ils n'aient été mangés par Pacman et qu'ils aient besoin de réapparaître. Trois des fantômes commencent également dans cette zone lorsqu'un niveau commence. En dehors de ces situations, cette zone reste pratiquement vide.
Une fois qu'ils ont été mangés, les fantômes doivent pouvoir réapparaître, sinon ce serait un jeu assez ennuyeux s'il y avait une mort permanente. Cette section consiste à donner une chance à Pacman de se battre. Comme il est capable de manger les pastilles, il peut maintenant manger les pastilles de puissance et chasser les fantômes qui essaient de s'éloigner de lui. Nous commencerons cette section en présentant le mode FRET qui rend les fantômes vulnérables à la consommation par Pacman.

Les fantômes ont actuellement deux modes dans lesquels ils peuvent être :   CHASE ou SCATTER . Ces modes ont des minuteries et basculent d'un mode à l'autre lorsque leurs minuteries expirent. Le fantôme obtient cela à partir de l'objet MainMode que nous avons défini précédemment.  
Le mode FRET , en revanche, est un mode qui peut se produire à tout moment. Eh bien, il ne peut se produire que quatre fois au cours d'un niveau puisqu'il n'y a que quatre pastilles de puissance. C'est ce que j'aime appeler un mode d'interruption. Lorsque Pacman mange une pastille de puissance, les fantômes peuvent être en mode DISPERSION ou POURSUITE . Lorsque cela se produit, nous forçons tous les fantômes à passer en mode FRET , qu'ils soient en mode DISPERSION ou POURSUITE . Le mode FRET a également un minuteur et ne dure initialement que 7 secondes. Ce minuteur diminue à mesure que les niveaux augmentent jusqu'au point où il est pratiquement inexistant. Dans notre jeu cependant, il ne descendra jamais en dessous de 1 seconde. Lorsque le minuteur du mode FRET expire, les fantômes reviennent en mode POURSUITE ou POURSUITE, selon le mode dans lequel se trouve l'objet MainMode.
De plus, en mode FRET , les fantômes se déplacent beaucoup plus lentement. Ils se déplacent à environ 50 % de leur vitesse maximale et choisissent des directions au hasard, de sorte qu'ils n'ont pas d'objectif particulier à atteindre. C'est presque comme s'ils étaient étourdis et confus.

Nous pouvons faire en sorte que Pacman mange le fantôme et que le fantôme se retire dans la maison du fantôme et réapparaisse dans le jeu. Ce que nous devons faire, c'est faire en sorte que Pacman entre en collision avec le fantôme, ce qui sera facile car nous avons déjà compris comment faire cela avec les pastilles, donc ce sera à peu près la même chose. Ensuite, après avoir détecté une collision avec le fantôme, nous devons vérifier si le fantôme était en mode FRET ou non. S'il était en mode FRET, nous devons changer son mode en mode APPARITION. En mode APPARITION, nous lui donnons la maison que nous venons de créer comme objectif et définissons sa vitesse pour qu'elle soit plus rapide que sa vitesse maximale, peut-être 1,5 ou 2 fois. Ensuite, lorsqu'il atteint son point d'apparition, il revient simplement en mode CHASE ou DISPERSION. Après qu'un fantôme a réapparu, nous ne le renvoyons pas en mode FRET car un fantôme ne peut être mangé qu'une fois par pastille de puissance. De plus, un fantôme ne peut entrer en mode SPAWN que s'il était d'abord en mode FRET.
